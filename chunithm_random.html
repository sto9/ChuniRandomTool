<!DOCTYPE html>
<html lang="ja">

<meta name="msapplication-square70x70logo" content="favicons/site-tile-70x70.png">
<meta name="msapplication-square150x150logo" content="favicons/site-tile-150x150.png">
<meta name="msapplication-wide310x150logo" content="favicons/site-tile-310x150.png">
<meta name="msapplication-square310x310logo" content="favicons/site-tile-310x310.png">
<meta name="msapplication-TileColor" content="#0078d7">
<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="favicons/favicon.ico">
<link rel="icon" type="image/vnd.microsoft.icon" href="favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" sizes="36x36" href="favicons/android-chrome-36x36.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicons/android-chrome-48x48.png">
<link rel="icon" type="image/png" sizes="72x72" href="favicons/android-chrome-72x72.png">
<link rel="icon" type="image/png" sizes="96x96" href="favicons/android-chrome-96x96.png">
<link rel="icon" type="image/png" sizes="128x128" href="favicons/android-chrome-128x128.png">
<link rel="icon" type="image/png" sizes="144x144" href="favicons/android-chrome-144x144.png">
<link rel="icon" type="image/png" sizes="152x152" href="favicons/android-chrome-152x152.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicons/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="256x256" href="favicons/android-chrome-256x256.png">
<link rel="icon" type="image/png" sizes="384x384" href="favicons/android-chrome-384x384.png">
<link rel="icon" type="image/png" sizes="512x512" href="favicons/android-chrome-512x512.png">
<link rel="icon" type="image/png" sizes="36x36" href="favicons/icon-36x36.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicons/icon-48x48.png">
<link rel="icon" type="image/png" sizes="72x72" href="favicons/icon-72x72.png">
<link rel="icon" type="image/png" sizes="96x96" href="favicons/icon-96x96.png">
<link rel="icon" type="image/png" sizes="128x128" href="favicons/icon-128x128.png">
<link rel="icon" type="image/png" sizes="144x144" href="favicons/icon-144x144.png">
<link rel="icon" type="image/png" sizes="152x152" href="favicons/icon-152x152.png">
<link rel="icon" type="image/png" sizes="160x160" href="favicons/icon-160x160.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicons/icon-192x192.png">
<link rel="icon" type="image/png" sizes="196x196" href="favicons/icon-196x196.png">
<link rel="icon" type="image/png" sizes="256x256" href="favicons/icon-256x256.png">
<link rel="icon" type="image/png" sizes="384x384" href="favicons/icon-384x384.png">
<link rel="icon" type="image/png" sizes="512x512" href="favicons/icon-512x512.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/icon-16x16.png">
<link rel="icon" type="image/png" sizes="24x24" href="favicons/icon-24x24.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/icon-32x32.png">
<link rel="manifest" href="favicons/manifest.json">


<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">

    <title>chunifil</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="./chunithm_random.css" rel="stylesheet" type="text/css">

    <script src="./chunithm_random.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>

    <script>loadAllMusicsData();</script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
</head>

<body>
    <header class="container-fluid" style="padding-top:0; color:white">
        <div class="row justify-content-between align-self-center">
            <div class="col-auto">
                <h1>
                    <font face="Verdana">
                        <b class="header-logo">chun</b>
                        <b class="header-logo" style="letter-spacing:0.05em;">ifil</b>
                    </font>
                </h1>
            </div>
            <div class="col-auto">
                <a href="https://github.com/sto9/ChuniRandomTool#readme" class="header-help">
                    <font face="Verdana" size="2.5rem">
                        <b alt="help" border="0">Help</b>
                    </font>
                </a>
            </div>

        </div>

    </header>

    <footer class="container-fluid footer">
        <!-- ユーザーID -->
        <div class="row g-2">
            <div class="col-auto">
                <label class="form-label" for="user_id"> chunirec のユーザー ID </label>
                <input type="text" class="form-control" id="user_id" minlength="1" maxlength="30"
                    placeholder="例: chunithm">
            </div>
            <div class="col-auto">
                <p id="user_id_error" style="color:red;"></p>
            </div>
        </div>

        <div class="accordion" id="accordionExample" style="margin-bottom:8px;">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <b>選曲設定</b>（押すと開きます）
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body" style="padding-bottom:8px">
                        <!-- アコーディオンここから -->

                        <!-- レベル指定 -->
                        <div class="row" style="display:table; margin-bottom:0">

                            <div id="lower-notconst-block" class="form-group col-auto" style="display:table-cell">
                                <label for="level_lower"> 以上 </label>
                                <select id="level_lower" class="form-select">
                                    <option value="10" selected>10</option>
                                    <option value="10.5">10+</option>
                                    <option value="11">11</option>
                                    <option value="11.5">11+</option>
                                    <option value="12">12</option>
                                    <option value="12.5">12+</option>
                                    <option value="13">13</option>
                                    <option value="13.5">13+</option>
                                    <option value="14">14</option>
                                    <option value="14.5">14+</option>
                                    <option value="15">15</option>
                                </select>
                            </div>
                            <div id="upper-notconst-block" class="form-group col-auto" style="display:table-cell">
                                <label for="level_upper"> 以下</label>
                                <select id="level_upper" class="form-select">
                                    <option value="10">10</option>
                                    <option value="10.5">10+</option>
                                    <option value="11">11</option>
                                    <option value="11.5">11+</option>
                                    <option value="12">12</option>
                                    <option value="12.5">12+</option>
                                    <option value="13">13</option>
                                    <option value="13.5">13+</option>
                                    <option value="14">14</option>
                                    <option value="14.5">14+</option>
                                    <option value="15" selected>15</option>
                                </select>
                            </div>


                            <div id="lower-const-block" class="form-group col-auto d-none" style="display:table-cell">
                                <label for="level_lower_const"> 以上</label>
                                <input type="text" size="5em" class="form-control" id="level_lower_const" minlength="1"
                                    maxlength="5" value="10.0" placeholder="例: 10.0">
                            </div>
                            <div id="upper-const-block" class="form-group col-auto d-none" style="display:table-cell">
                                <label for="level_upper_const"> 以下</label>
                                <input type="text" size="5em" class="form-control" id="level_upper_const" minlength="1"
                                    maxlength="5" value="15.4" placeholder="例: 15.4">
                            </div>

                            <div class="form-check parent col-auto"
                                style="height:10px; margin-left:12px; vertical-align:bottom; display:table-cell">
                                <input type="checkbox" id="select-const" unchecked class="form-check-input child"
                                    onclick="switchConst();">
                                <label class="form-check-label child" for="select-const">定数指定 </label>
                            </div>

                        </div>
                        <div class="row border-bottom" style="padding-bottom: 0;">
                            <div class="col-auto">
                                <div id="const_error" style="color:red;"></div>
                            </div>
                        </div>

                        <!-- ULTIMA -->
                        <div class="row border-bottom" style="padding-left:12px;">
                            <div class="form-check col-auto">
                                <input type="checkbox" id="ultima" checked class="form-check-input child">
                                <label class="form-check-label child" for="ultima">ULTIMA を含む </label>
                            </div>
                        </div>

                        <!-- ジャンル指定 -->
                        <div class="row border-bottom" style="padding-left:12px;">
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_pa" checked>
                                <label class="form-check-label" for="genre_POPS&ANIME">POPS&ANIME</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_nico" checked>
                                <label class="form-check-label" for="genre_niconico">niconico</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_toho" checked>
                                <label class="form-check-label" for="genre_toho">東方Project</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_var" checked>
                                <label class="form-check-label" for="genre_var">VARIETY</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_iro" checked>
                                <label class="form-check-label" for="genre_iro">イロドリミドリ</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_geki" checked>
                                <label class="form-check-label" for="genre_geki">ゲキマイ</label>
                            </div>
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="genre_ori" checked>
                                <label class="form-check-label" for="genre_ori">ORIGINAL</label>
                            </div>
                        </div>

                        <!-- 達成済・未達成 -->
                        <div class="row border-bottom">
                            <div id="unachieved-block" class="form-group col-auto">
                                <label for="unachieved">未達成 </label>
                                <select id="unachieved" class="form-select">
                                    <option value="notdone_all">指定なし</option>
                                    <option value="notdone_AJC" selected>未理論値</option>
                                    <option value="notdone_99AJ">未99AJ</option>
                                    <option value="notdone_AJ">未AJ</option>
                                    <option value="notdone_SSS+">未SSS+</option>
                                    <option value="notdone_SSS">未SSS</option>
                                    <option value="notdone_SS+">未SS+</option>
                                    <option value="notdone_SS">未SS</option>
                                </select>
                            </div>
                            <div id="achieved-block" class="form-group col-auto">
                                <label for="achieved">達成済</label>
                                <select id="achieved" class="form-select">
                                    <option value="done_all" selected>指定なし</option>
                                    <option value="done_AJC">既理論値</option>
                                    <option value="done_99AJ">既99AJ</option>
                                    <option value="done_AJ">既AJ</option>
                                    <option value="done_SSS+">既SSS+</option>
                                    <option value="done_SSS">既SSS</option>
                                    <option value="done_SS+">既SS+</option>
                                    <option value="done_SS">既SS</option>
                                </select>
                            </div>
                        </div>

                        <!-- スコア指定 -->
                        <div class="row" style="margin-bottom:0">
                            <div class="col-auto">
                                <span style="vertical-align:middle;">スコア指定（任意）</span>
                                <svg id="score-help" style="vertical-align:middle;" xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-question-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z" />
                                </svg>
                            </div>
                            <script>
                                $(function () {
                                    $('#score-help').popover({
                                        title: 'スコア指定',
                                        content: '上のオプションで足りないときはこちら。<br>空欄=指定なし',
                                        placement: 'top',
                                        trigger: 'hover',
                                        html: true
                                    });
                                });
                            </script>
                        </div>
                        <div class="row" style="margin-bottom:0">
                            <div id="score-lower-block" class="form-group col-auto">
                                <label for="score_lower"> 以上</label>
                                <input type="text" size="8em" class="form-control" id="score_lower" minlength="1" maxlength="8">
                            </div>
                            <div id="score-upper-block" class="form-group col-auto">
                                <label for="score_lower"> 以下</label>
                                <input type="text" size="8em" class="form-control" id="score_upper" minlength="1" maxlength="8">
                            </div>
                        </div>
                        <div class="row border-bottom" style="padding-bottom: 0;">
                            <div class="col-auto">
                                <div id="score_error" style="color:red;"></div>
                            </div>
                        </div>

                        <!-- 除外設定 -->
                        <div class="row border-bottom" style="padding-left:12px;">
                            <div class="form-check form-check-inline col-auto">
                                <input class="form-check-input" type="checkbox" id="exclude_unplayed">
                                <label class="form-check-label" for="exclude_unplayed">未プレイ除外</label>
                            </div>
                        </div>

                        <!-- 設定初期化 -->
                        <div class="row">
                            <div class="col-auto">
                                <input type="button" class="btn btn-secondary" value="初期設定に戻す"
                                    onclick="initOptionConfirm();" />
                            </div>
                        </div>

                        <!-- アコーディオンここまで -->
                    </div>
                </div>
            </div>
        </div>


        <!-- 表示曲数 -->
        <div class="row">
            <div class="form-group col-auto">
                <label for="display_number"> 表示曲数</label>
                <select id="display_number" class="form-select">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected>5</option>
                    <option value="8">8</option>
                    <option value="12">12</option>
                    <option value="16">16</option>
                    <option value="20">20</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-auto">
                <input type="button" class="btn btn-primary" value="表示" onclick="loadTable();" />
            </div>
            <div class="col-auto">
                <input type="button" class="btn btn-danger" value="削除" onclick="deleteTable();" />
            </div>
        </div>

        <div class="row" style="margin-bottom:0">
            <div class="col-12">
                <font size="5px">
                    <p id="music_count_sentence"></p>
                </font>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <table class="table">
                    <thead id="thead"></thead>
                    <tbody id="tbody"></tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div id="tweet" class="col-auto"></div>
        </div>

    </footer>

    <script>renewCookie(); loadCookie();</script>
</body>

</html>